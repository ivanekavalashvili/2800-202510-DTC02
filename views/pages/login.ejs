<div class="login-container">
    <img src="/images/logo.png" alt="Gamify Life Logo" class="trophy-icon object-contain bg-transparent">
    <h1>Gamify Life</h1>

    <div class="role-toggle" style="display: flex;">
        <button class="role-btn active" id="parentBtn" type="button">Parent</button>
        <button class="role-btn" id="kidBtn" type="button">Kid</button>
    </div>

    <div class="forms-container">
        <form id="loginForm" class="form active">
            <input class="input" type="text" name="Username/email" placeholder="Email or Username" required>
            <input class="input" type="password" name="password" placeholder="Password" required>
            <a href="#" class="forgot">Forgot password?</a>
            <button class="login-btn" type="submit">Log In</button>
            <div class="toggle-form">
                Don't have an account? <a href="#" id="showSignup">Sign Up</a>
            </div>
        </form>

        <form id="signupForm" class="form">
            <input class="input" type="text" name="fullName" placeholder="Full Name" required>
            <input class="input" type="email" name="email" placeholder="Email" required>
            <input class="input" type="password" name="password" placeholder="Password" required>
            <input class="input" type="password" name="confirmPassword" placeholder="Confirm Password" required>
            <button class="login-btn" type="submit">Sign Up</button>
            <div class="toggle-form">
                Already have an account? <a href="#" id="showLogin">Log In</a>
            </div>
        </form>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const loginForm = document.getElementById("loginForm");
            const signupForm = document.getElementById("signupForm");
            const showSignupLink = document.getElementById("showSignup");
            const showLoginLink = document.getElementById("showLogin");
            const roleToggle = document.querySelector(".role-toggle");

            const urlParams = new URLSearchParams(window.location.search);
            const isSignup = urlParams.get("signup") === "true";

            if (isSignup) {
                loginForm.classList.remove("active");
                signupForm.classList.add("active");
                if (roleToggle) roleToggle.style.display = "none";
            } else {
                loginForm.classList.add("active");
                signupForm.classList.remove("active");
                if (roleToggle) roleToggle.style.display = "flex";
            }

            showSignupLink.addEventListener("click", (e) => {
                e.preventDefault();
                loginForm.classList.remove("active");
                signupForm.classList.add("active");
                if (roleToggle) roleToggle.style.display = "none";
            });

            showLoginLink.addEventListener("click", (e) => {
                e.preventDefault();
                signupForm.classList.remove("active");
                loginForm.classList.add("active");
                if (roleToggle) roleToggle.style.display = "flex";
            });
        });
    </script>